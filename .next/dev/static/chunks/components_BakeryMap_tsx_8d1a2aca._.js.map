{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sara/Desktop/Projects/TEST3/components/BakeryMap.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { Bakery } from '../data/bakeries';\r\nimport L from 'leaflet';\r\n\r\n// Fix for Leaflet default icon not found\r\nconst icon = L.icon({\r\n    iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n    iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\r\n    shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\ninterface BakeryMapProps {\r\n    bakeries: Bakery[];\r\n    selectedBakeryId?: string;\r\n    onBakerySelect: (bakery: Bakery) => void;\r\n}\r\n\r\nfunction MapUpdater({ center }: { center: [number, number] }) {\r\n    const map = useMap();\r\n    useEffect(() => {\r\n        map.setView(center, 13);\r\n    }, [center, map]);\r\n    return null;\r\n}\r\n\r\nexport default function BakeryMap({ bakeries, selectedBakeryId, onBakerySelect }: BakeryMapProps) {\r\n    const [isMounted, setIsMounted] = useState(false);\r\n    const selectedBakery = bakeries.find(b => b.id === selectedBakeryId);\r\n    const center: [number, number] = selectedBakery ? selectedBakery.coordinates : [39.8283, -98.5795]; // Default to US center\r\n    const zoom = selectedBakery ? 13 : 4;\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n    }, []);\r\n\r\n    if (!isMounted) {\r\n        return (\r\n            <div className=\"w-full h-full bg-gray-100 flex items-center justify-center text-gray-500\">\r\n                Loading Map...\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <MapContainer\r\n            center={center}\r\n            zoom={zoom}\r\n            style={{ height: '100%', width: '100%' }}\r\n            scrollWheelZoom={true}\r\n        >\r\n            <TileLayer\r\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            {selectedBakery && <MapUpdater center={selectedBakery.coordinates} />}\r\n            {bakeries.map((bakery) => (\r\n                <Marker\r\n                    key={bakery.id}\r\n                    position={bakery.coordinates}\r\n                    icon={icon}\r\n                    eventHandlers={{\r\n                        click: () => onBakerySelect(bakery),\r\n                    }}\r\n                >\r\n                    <Popup>\r\n                        <div className=\"min-w-[200px]\">\r\n                            <h3 className=\"font-bold text-lg\">{bakery.name}</h3>\r\n                            <p className=\"text-sm text-gray-600\">{bakery.address}</p>\r\n                            <p className=\"text-sm font-semibold text-pink-600 mt-1\">{bakery.rating} â˜… ({bakery.reviewCount} reviews)</p>\r\n                            <div className=\"mt-2 flex flex-wrap gap-1\">\r\n                                {bakery.specialties.slice(0, 2).map(s => (\r\n                                    <span key={s} className=\"text-xs bg-pink-100 text-pink-800 px-1 rounded\">{s}</span>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </Popup>\r\n                </Marker>\r\n            ))}\r\n        </MapContainer>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AANA;;;;;AAQA,yCAAyC;AACzC,MAAM,OAAO,+JAAC,CAAC,IAAI,CAAC;IAChB,SAAS;IACT,eAAe;IACf,WAAW;IACX,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAG,CAAC;KAAG;IACrB,YAAY;QAAC;QAAI;KAAG;AACxB;AAQA,SAAS,WAAW,EAAE,MAAM,EAAgC;;IACxD,MAAM,MAAM,IAAA,6JAAM;IAClB,IAAA,0KAAS;gCAAC;YACN,IAAI,OAAO,CAAC,QAAQ;QACxB;+BAAG;QAAC;QAAQ;KAAI;IAChB,OAAO;AACX;GANS;;QACO,6JAAM;;;KADb;AAQM,SAAS,UAAU,EAAE,QAAQ,EAAE,gBAAgB,EAAE,cAAc,EAAkB;;IAC5F,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,iBAAiB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACnD,MAAM,SAA2B,iBAAiB,eAAe,WAAW,GAAG;QAAC;QAAS,CAAC;KAAQ,EAAE,uBAAuB;IAC3H,MAAM,OAAO,iBAAiB,KAAK;IAEnC,IAAA,0KAAS;+BAAC;YACN,aAAa;QACjB;8BAAG,EAAE;IAEL,IAAI,CAAC,WAAW;QACZ,qBACI,6LAAC;YAAI,WAAU;sBAA2E;;;;;;IAIlG;IAEA,qBACI,6LAAC,0KAAY;QACT,QAAQ;QACR,MAAM;QACN,OAAO;YAAE,QAAQ;YAAQ,OAAO;QAAO;QACvC,iBAAiB;;0BAEjB,6LAAC,oKAAS;gBACN,aAAY;gBACZ,KAAI;;;;;;YAEP,gCAAkB,6LAAC;gBAAW,QAAQ,eAAe,WAAW;;;;;;YAChE,SAAS,GAAG,CAAC,CAAC,uBACX,6LAAC,8JAAM;oBAEH,UAAU,OAAO,WAAW;oBAC5B,MAAM;oBACN,eAAe;wBACX,OAAO,IAAM,eAAe;oBAChC;8BAEA,cAAA,6LAAC,4JAAK;kCACF,cAAA,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAqB,OAAO,IAAI;;;;;;8CAC9C,6LAAC;oCAAE,WAAU;8CAAyB,OAAO,OAAO;;;;;;8CACpD,6LAAC;oCAAE,WAAU;;wCAA4C,OAAO,MAAM;wCAAC;wCAAK,OAAO,WAAW;wCAAC;;;;;;;8CAC/F,6LAAC;oCAAI,WAAU;8CACV,OAAO,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,kBAChC,6LAAC;4CAAa,WAAU;sDAAkD;2CAA/D;;;;;;;;;;;;;;;;;;;;;mBAdtB,OAAO,EAAE;;;;;;;;;;;AAuBlC;IAvDwB;MAAA"}}]
}